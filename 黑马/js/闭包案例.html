<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<ul class="nav">
    <li>火锅</li>
    <li>烤肉</li>
    <li>奶茶</li>
    <li>辣条</li>
</ul>
<script>
    /*点击li输出当前li的索引号*/
    var lis = document.querySelector('.nav').querySelectorAll('li');
   /* for(var i = 0;i < lis.length; i++) {
        lis[i].onclick = function () {
            console.log(i);
        }
    }*/

    // //1.利用动态添加属性的方式
   /* for(var i = 0 ;i < lis.length; i++){
        lis[i].index = i;
        lis[i].onclick = function () {
            console.log(this.index);
        }
    }*/
    //
    // //2.利用闭包的方式
    for(var j = 0; j < lis.length ; j++){
        //利用for循环创建4个立即执行函数
        //立即执行函数也称为小闭包因为立即执行函数里面的任何一个函数都可以使用它的j变量
        //这种方法不好，会造成内存泄漏 变量不能及时释放
        (function (j) {
            lis[j].onclick = function () {
                console.log(j);
            }
        })(j)
    }

    //3s之后打印所有li元素的内容
   /* for(var i = 0 ;i < lis.length; i++){
        (function (i) {
            setTimeout(function () {
                console.log(lis[i].innerHTML);
            },3000)
        })(i)
    }*/

</script>

</body>
</html>
